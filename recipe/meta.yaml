{% set version = "0.1.pre" %}
{% set commit = "585469c7f4e9421b4abf4ea419bb0bdaaef9ce3f" %}

package:
  name: parquet-cpp
  version: {{ version }}

source:
  fn: {{ commit }}.tar.gz
  url: https://github.com/apache/parquet-cpp/archive/{{ commit }}.tar.gz
  sha256: 5b00dda426795d09569aade9a3fc76e87b047b1b9e7f3ef32d2cac0d6bb433fe

build:
  number: 10
  skip: true  # [win]

requirements:
  build:
    - toolchain
    - arrow-cpp
    - boost 1.63.*
    - cmake
    - zlib 1.2.*
    - snappy
    - brotli
    - thrift-cpp

  run:
    - arrow-cpp

test:
  commands:
    - test -f $PREFIX/lib/libparquet.so  # [linux]
    - test -f $PREFIX/lib/libparquet_arrow.so  # [linux]
    - test -f $PREFIX/lib/libparquet.dylib  # [osx]
    - test -f $PREFIX/lib/libparquet_arrow.dylib  # [osx]
    - test -f $PREFIX/include/parquet/api/reader.h

about:
  home: http://github.com/apache/parquet-cpp
  license: Apache 2.0
  summary: 'C++ libraries for the Apache Parquet file format'

extra:
  recipe-maintainers:
    - wesm
    - xhochy
